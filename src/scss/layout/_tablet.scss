@media (max-width: 768px), (max-height: 1023px) {
  /* Стили для tablet-версии */

  /* Исключаем стили для страницы проектов при высоте <1024px */
  body:not(.page-with-scroll) .header {
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none; /* Пропускаем события прокрутки через header */
  }

  /* Восстанавливаем pointer-events для интерактивных элементов внутри header */
  body:not(.page-with-scroll) .header-content,
  body:not(.page-with-scroll) .header-content * {
    pointer-events: auto;
  }
  
  body:not(.page-with-scroll) .footer {
    position: fixed;
    bottom: 0;
    left: 0;
    pointer-events: none; /* Пропускаем события прокрутки через footer */
  }

  /* Восстанавливаем pointer-events для интерактивных элементов внутри footer */
  body:not(.page-with-scroll) .footer-content,
  body:not(.page-with-scroll) .footer-content * {
    pointer-events: auto;
  }

  body:not(.page-with-scroll) .header.hidden {
    transform: translateY(-100%);
  }

  body:not(.page-with-scroll) .footer.hidden {
    transform: translateY(100%);
  }

  /* Стили для декоративных линий в режиме планшета */
  body:not(.page-with-scroll) .header + .decorative-line-horizontal,
  body:not(.page-with-scroll) main + .decorative-line-horizontal {
    position: fixed;
    left: 0;
    transition: transform 0.3s ease;
    pointer-events: none; /* Пропускаем события прокрутки через декоративные линии */
  }

  body:not(.page-with-scroll) .header + .decorative-line-horizontal {
    top: 64px; /* Высота хедера */
  }

  body:not(.page-with-scroll) main + .decorative-line-horizontal {
    bottom: 64px; /* Высота футера */
  }

  body:not(.page-with-scroll) .header + .decorative-line-horizontal.hidden {
    transform: translateY(-65px); /* Сдвигаем вверх, чтобы скрыть */
  }

  body:not(.page-with-scroll) main + .decorative-line-horizontal.hidden {
    transform: translateY(65px); /* Сдвигаем вниз, чтобы скрыть */
  }

  /* Исключаем стили для страницы проектов при высоте <1024px */
  body:not(.page-with-scroll) .content-wrapper {
    padding-left: 0;
    padding-right: 0;
    max-width: none; /* Убираем ограничение ширины */
    width: 100vw; /* Занимаем всю ширину viewport */
    margin-left: calc(50% - 50vw); /* Растягиваем на всю ширину экрана */
  }

  .slides-container.tablet-scroll-mode {
    display: block;
    overflow-y: auto;
    height: 100%; /* Уменьшаем высоту, чтобы создать отступ */
    scroll-snap-type: none;
    padding-top: 64px;
    padding-bottom: 64px;
    box-sizing: border-box;
    width: 100%; /* Занимаем всю ширину родителя */
    /* Скрываем скроллбар */
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }

  /* Скрываем скроллбар для Webkit-браузеров (Chrome, Safari) */
  .slides-container.tablet-scroll-mode::-webkit-scrollbar {
    display: none;
  }

  /* Широкий wrapper для каждого слайда - занимает всю ширину */
  .slides-container.tablet-scroll-mode .slide-wrapper {
    position: relative; /* Меняем с absolute на relative для потока документа */
    width: 100%;
    height: auto; /* Убираем фиксированную высоту */
    pointer-events: auto; /* Обрабатываем события прокрутки на всей ширине */
  }

  .slides-container.tablet-scroll-mode .slide {
    display: block;
    position: static; /* Убираем absolute позиционирование */
    opacity: 1;
    visibility: visible;
    transform: none;
    height: auto;
    min-height: auto; /* Убираем лишнюю высоту */
    width: 100%; /* Занимаем всю ширину wrapper'а */
    padding: var(--spacing-xl) 0; /* Убираем горизонтальные отступы, оставляем вертикальные */
    pointer-events: auto !important; /* Включаем клики в режиме прокрутки */
  }

  /* Центрируем контент внутри слайдов и добавляем отступы */
  .slides-container.tablet-scroll-mode .slide:first-child .main-grid,
  .slides-container.tablet-scroll-mode .project-slide-content,
  .slides-container.tablet-scroll-mode .cta-slide-content {
    padding-left: var(--spacing-lg); /* Добавляем отступы по бокам */
    padding-right: var(--spacing-lg); /* Добавляем отступы по бокам */
    max-width: var(--max-width-large); /* Ограничиваем ширину контента */
    margin-left: auto; /* Центрируем */
    margin-right: auto; /* Центрируем */
    box-sizing: border-box;
  }

  /* Скрываем дублирующиеся заголовки "Избранные работы" */
  .slides-container.tablet-scroll-mode .slide[data-slide="1"] ~ .slide .project-slide-header .section-title {
    display: none;
  }

  /* Добавляем разделители между слайдами */

  .slides-container.tablet-scroll-mode .slide-wrapper:not(:last-child)::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: min(calc(100% - 2 * var(--spacing-lg)), calc(var(--max-width-large) - 2 * var(--spacing-lg))); /* Ширина разделителя = ширина контента минус отступы */
    height: var(--line-width, 1px);
    background-color: var(--color-divider);
  }

  .footer-decorative {
    display: none;
  }

  body.page-404 .page-wrapper {
    display: block;
    height: 100vh;
    overflow-y: auto;
    padding-top: 64px;
    padding-bottom: 64px;
    box-sizing: border-box;
    -ms-overflow-style: none;  
    scrollbar-width: none;
  }

  body.page-404 .page-wrapper::-webkit-scrollbar {
    display: none;
  }

  body.page-404 .content-wrapper {
    min-height: 100%;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    justify-content: center;
    padding-top: var(--spacing-xxl);
    padding-bottom: var(--spacing-xxl);
  }
}

/* Стили для страницы проектов в режиме планшета/мобильного */
/* Только по ширине, без учета высоты */
@media (max-width: 768px) {
  body.page-with-scroll {
    overflow: hidden !important;
    height: 100vh !important;
  }

  body.page-with-scroll .page-wrapper {
    display: block;
    height: 100vh;
    overflow-y: auto;
    overflow-x: hidden;
    padding-top: 64px;
    padding-bottom: 64px;
    box-sizing: border-box;
    -ms-overflow-style: none;  
    scrollbar-width: none;
  }

  body.page-with-scroll .page-wrapper::-webkit-scrollbar {
    display: none;
  }

  body.page-with-scroll .content-wrapper {
    min-height: 100%;
    box-sizing: border-box;
    display: block;
    padding-top: var(--spacing-xxl);
    padding-bottom: var(--spacing-xxl);
  }
}
