import{B as l}from"./page-base-page-Bp2cLyNB.js";import{h as a,a as r,l as s}from"./utils-CKrc6ags.js";import"./managers-BeWNv7uO.js";import"./layout-CcHcqC4y.js";import"./components-scroll-CzkIP5QM.js";import"./components-core-BE8PsulO.js";import"./services-lW0kxgGc.js";class p extends l{constructor(){super({navigationSelector:"",imageSelector:".page-404 img"}),this.ctaContent=null,this.languageChangeHandler=null}getCtaContent(){return this.ctaContent||(this.ctaContent=document.querySelector(".cta-slide-content")),this.ctaContent}getElementsToAnimate(){const t=this.getCtaContent();if(!t)return[];const n=t.querySelector(".main-content-name"),e=t.querySelector(".main-content-title"),i=t.querySelector(".main-content-description"),o=t.querySelectorAll(".cta-button");return[n,e,i,...o].filter(Boolean)}hideAllElementsImmediately(){const t=this.getElementsToAnimate();t.length>0&&a.hideElementsForAnimation(t)}initializeAnimations(){const t=this.getCtaContent();t&&(this.hideAllElementsImmediately(),t.firstElementChild&&a.forceReflow(t.firstElementChild),requestAnimationFrame(()=>{requestAnimationFrame(()=>{const n=this.getElementsToAnimate();n.forEach(e=>{e&&a.isElementVisible(e)&&a.hideElementsForAnimation([e])}),t.firstElementChild&&a.forceReflow(t.firstElementChild),setTimeout(()=>{n.length>0&&(a.forceReflow(n[0]),n.forEach(e=>{e&&a.isElementVisible(e)&&a.hideElementsForAnimation([e])}),r(n,{skipInitialState:!1}))},100)})}))}updateContentLanguage(){document.querySelectorAll("[data-i18n]").forEach(n=>{const e=n.getAttribute("data-i18n");if(e){const i=s.t(e,{},!0);i&&i!==e&&(n.textContent=i)}})}languageChangeHandler=()=>{this.updateContentLanguage()};async init(){await this.initBase(),window.addEventListener("languageChanged",this.languageChangeHandler),await new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{let n=0;const e=5,i=()=>{const o=s.t("404.heading",{},!0);o&&o!=="404.heading"?(this.updateContentLanguage(),t()):n<e?(n++,setTimeout(i,100)):(this.updateContentLanguage(),t())};i()})})}),this.initLoadingIndicator("notfound-loading","notfound-loading-container"),this.loadingIndicator.show(),this.hideAllElementsImmediately(),await this.loadingIndicator.hide(),await this.waitForPageReady(),requestAnimationFrame(()=>{this.updateContentLanguage()}),this.initializeAnimations()}destroy(){this.languageChangeHandler&&window.removeEventListener("languageChanged",this.languageChangeHandler)}}export{p as NotFoundPage};
