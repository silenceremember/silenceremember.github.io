import{B as l}from"./page-base-page-CSGblTmO.js";import{h as a,a as r,l as s}from"./utils-BGwBK1z0.js";import"./components-scroll-DF6W2z7Q.js";import"./layout-B_i5Hhw_.js";import"./components-core-DxJLR8x9.js";import"./services-ERvBTkKF.js";class C extends l{constructor(){super({navigationSelector:"",imageSelector:".page-404 img"}),this.ctaContent=null,this.languageChangeHandler=null}getCtaContent(){return this.ctaContent||(this.ctaContent=document.querySelector(".cta-slide-content")),this.ctaContent}getElementsToAnimate(){const t=this.getCtaContent();if(!t)return[];const n=t.querySelector(".main-content-name"),e=t.querySelector(".main-content-title"),i=t.querySelector(".main-content-description"),o=t.querySelectorAll(".cta-button");return[n,e,i,...o].filter(Boolean)}hideAllElementsImmediately(){const t=this.getElementsToAnimate();t.length>0&&a.hideElementsForAnimation(t)}initializeAnimations(){const t=this.getCtaContent();t&&(this.hideAllElementsImmediately(),t.firstElementChild&&a.forceReflow(t.firstElementChild),requestAnimationFrame(()=>{requestAnimationFrame(()=>{const n=this.getElementsToAnimate();n.forEach(e=>{e&&a.isElementVisible(e)&&a.hideElementsForAnimation([e])}),t.firstElementChild&&a.forceReflow(t.firstElementChild),setTimeout(()=>{n.length>0&&(a.forceReflow(n[0]),n.forEach(e=>{e&&a.isElementVisible(e)&&a.hideElementsForAnimation([e])}),r(n,{skipInitialState:!1}))},100)})}))}updateContentLanguage(){const t=document.querySelectorAll("[data-i18n]");console.log(`Found ${t.length} elements with data-i18n`),t.forEach(n=>{const e=n.getAttribute("data-i18n");if(e){const i=s.t(e);console.log(`Key: ${e}, Translation: ${i}, Current text: ${n.textContent}`),i&&i!==e?(n.textContent=i,console.log(`Updated element with key ${e} to "${i}"`)):i===e&&console.warn(`Translation not found for key: ${e}, keeping fallback text`)}})}languageChangeHandler=()=>{this.updateContentLanguage()};async init(){await this.initBase(),window.addEventListener("languageChanged",this.languageChangeHandler),await new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{let n=0;const e=10,i=()=>{const o=s.t("404.heading");o&&o!=="404.heading"?(this.updateContentLanguage(),t()):n<e?(n++,setTimeout(i,50)):(console.warn("Translations may not be loaded, updating anyway"),this.updateContentLanguage(),t())};i()})})}),this.initLoadingIndicator("notfound-loading","notfound-loading-container"),this.loadingIndicator.show(),this.hideAllElementsImmediately(),await this.loadingIndicator.hide(),await this.waitForPageReady(),await new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.updateContentLanguage(),t()})})}),this.initializeAnimations()}destroy(){this.languageChangeHandler&&window.removeEventListener("languageChanged",this.languageChangeHandler)}}export{C as NotFoundPage};
