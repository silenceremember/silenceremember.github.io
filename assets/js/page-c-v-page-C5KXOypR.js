import{B as E}from"./page-base-page-CSGblTmO.js";import{l as d,D as h}from"./utils-BGwBK1z0.js";import{C as L}from"./managers-BcZlKcHk.js";import"./components-scroll-DF6W2z7Q.js";import"./layout-B_i5Hhw_.js";import"./components-core-DxJLR8x9.js";import"./services-ERvBTkKF.js";import"./components-svg-y7IOwReE.js";class M extends E{constructor(){super({navigationSelector:".cv-navigation",imageSelector:".cv-page img"}),this.animationManager=null,this.timelineTemplate=null,this.cvData=null}async initAnimationManager(){return this.animationManager||(this.animationManager=new L),this.animationManager}async loadTemplates(){this.timelineTemplate=await this.loadPageTemplate("/components/timeline.html",".timeline-item",!1)}async loadCVData(){return this.loadPageData("/data/cv.json",{},null)}async loadCommunityData(){return this.loadPageData("/data/community.json",{},null)}createHeaderSection(t,a,i){const n=document.createElement("div");n.className="cv-header";const e=document.createElement("div");e.className="cv-header-content";const o=document.createElement("div");o.className="cv-header-photo";const c=document.createElement("img");c.src="assets/images/portrait-cv.webp",c.alt="Maxim Elchaninov",c.className="cv-header-photo-image",c.decoding="async",c.loading="eager",c.fetchPriority="high",c.setAttribute("width","200"),c.setAttribute("height","300"),c.onerror=function(){this.src="assets/images/portrait-placeholder.svg"},o.appendChild(c),e.appendChild(o);const l=document.createElement("div");l.className="cv-header-top";const s=document.createElement("h2");s.className="cv-header-name",s.textContent=d.t("cv.name");const m=document.createElement("h3");m.className="cv-header-role",m.textContent=d.t("cv.role");const r=document.createElement("div");r.className="cv-header-contacts-wrapper";const u=document.createElement("a");u.className="cv-header-contact-link",u.href="mailto:slcrmmbr@outlook.com",u.textContent="slcrmmbr@outlook.com",r.appendChild(u);const g=document.createElement("a");if(g.className="cv-header-contact-link",t&&t.socialLinks&&t.socialLinks.telegram&&t.socialLinks.telegram!=="https://t.me/..."?g.href=t.socialLinks.telegram:g.href="https://t.me/silenceremember",g.target="_blank",g.rel="noopener noreferrer",g.textContent="t.me/silenceremember",r.appendChild(g),l.appendChild(s),l.appendChild(m),l.appendChild(r),e.appendChild(l),a){const p=document.createElement("div");p.className="cv-header-about";const f=a.trim().split(`

`).filter(v=>v.trim());f.forEach((v,b)=>{const y=document.createElement("p");if(y.className="cv-about-text",y.textContent=v.trim(),p.appendChild(y),b<f.length-1){const C=document.createElement("div");C.className="cv-about-divider",p.appendChild(C)}}),e.appendChild(p)}if(n.appendChild(e),i){const p=this.createSkillsSection(i);p&&n.appendChild(p)}return n}createWorkExperienceItem(t){if(!this.timelineTemplate)return null;const a=this.timelineTemplate.cloneNode(!0),i=a.querySelector(".timeline-period"),n=a.querySelector(".timeline-title"),e=a.querySelector(".timeline-subtitle"),o=a.querySelector(".timeline-description"),c=a.querySelector(".timeline-list"),l=a.querySelector(".timeline-tags");if(i&&t.period){const s=d.getCurrentLanguage();i.textContent=h.formatPeriod(t.period,s)}if(n){const s=d.getCurrentLanguage();t.positionLocalized&&t.positionLocalized[s]?n.textContent=t.positionLocalized[s]:n.textContent=t.position||""}if(e){const s=d.getCurrentLanguage();t.companyLocalized&&t.companyLocalized[s]?e.textContent=t.companyLocalized[s]:e.textContent=t.company||""}return o&&(o.textContent=d.t("cv.workDescription"),o.style.display="block"),c&&(c.style.display="none"),l&&(l.style.display="none"),a.setAttribute("data-cv-id",t.id||""),a.setAttribute("data-type","work"),a}createEducationItem(t){if(!this.timelineTemplate)return null;const a=this.timelineTemplate.cloneNode(!0),i=a.querySelector(".timeline-period"),n=a.querySelector(".timeline-title"),e=a.querySelector(".timeline-subtitle"),o=a.querySelector(".timeline-description"),c=a.querySelector(".timeline-list"),l=a.querySelector(".timeline-tags");if(i&&t.period){const s=d.getCurrentLanguage();i.textContent=h.formatPeriod(t.period,s)}if(n){const s=d.getCurrentLanguage();t.directionLocalized&&t.directionLocalized[s]?n.textContent=t.directionLocalized[s]:n.textContent=t.direction||""}if(e){const s=d.getCurrentLanguage();let m="";t.institutionShortLocalized&&t.institutionShortLocalized[s]?m=t.institutionShortLocalized[s]:t.institutionLocalized&&t.institutionLocalized[s]?m=t.institutionLocalized[s]:m=t.institutionShort||t.institution||"";const r=t.degreeLocalized&&t.degreeLocalized[s]?`, ${t.degreeLocalized[s]}`:t.degree?`, ${t.degree}`:"";if(e.textContent=`${m}${r}`,t.location){const u=t.locationLocalized&&t.locationLocalized[s]?t.locationLocalized[s]:t.location;e.textContent+=` (${u})`}}if(o){const s=t.status==="in-progress"?"inProgress":"completed";o.textContent=d.t(`cv.status.${s}`),o.style.display="block"}return c&&(c.style.display="none"),l&&(l.style.display="none"),a.setAttribute("data-cv-id",t.id||""),a.setAttribute("data-type","education"),t.status&&a.setAttribute("data-status",t.status),a}createSkillsSection(t){if(!t)return null;const a=document.createElement("div");return a.className="cv-skills-grid",[{key:"design-prototyping",titleKey:"cv.skills.categories.designPrototyping.title",descriptionKey:"cv.skills.categories.designPrototyping.description",skills:t["design-prototyping"]||[]},{key:"technical-scripting",titleKey:"cv.skills.categories.technicalScripting.title",descriptionKey:"cv.skills.categories.technicalScripting.description",skills:t["technical-scripting"]||[]},{key:"design-documentation",titleKey:"cv.skills.categories.designDocumentation.title",descriptionKey:"cv.skills.categories.designDocumentation.description",skills:t["design-documentation"]||[]},{key:"production-collaboration",titleKey:"cv.skills.categories.productionCollaboration.title",descriptionKey:"cv.skills.categories.productionCollaboration.description",skills:t["production-collaboration"]||[]},{key:"asset-creation",titleKey:"cv.skills.categories.assetCreation.title",descriptionKey:"cv.skills.categories.assetCreation.description",skills:t["asset-creation"]||[]}].forEach(n=>{if(n.skills.length===0)return;const e=document.createElement("div");e.className="cv-skill-category";const o=document.createElement("h3");if(o.className="cv-skill-category-title",o.textContent=d.t(n.titleKey),e.appendChild(o),n.descriptionKey){const l=document.createElement("p");l.className="cv-skill-category-description",l.textContent=d.t(n.descriptionKey),e.appendChild(l)}const c=document.createElement("div");c.className="cv-skill-list",n.skills.forEach(l=>{const s=document.createElement("span");s.className="cv-skill-tag",s.textContent=l,c.appendChild(s)}),e.appendChild(c),a.appendChild(e)}),a}createCertificatesSection(t){if(!t||t.length===0)return null;const a=document.createElement("div");return a.className="cv-certificates-list",t.forEach(i=>{const n=document.createElement("div");n.className="cv-certificate-item";const e=document.createElement("h3");e.className="cv-certificate-title",e.textContent=i.title||"",n.appendChild(e);const o=document.createElement("div");o.className="cv-certificate-meta";const c=document.createElement("span");if(c.className="cv-certificate-organization",c.textContent=i.organization||"",o.appendChild(c),i.year){const s=document.createElement("span");s.className="cv-certificate-year",s.textContent=i.year.toString(),o.appendChild(s)}n.appendChild(o);const l=document.createElement("button");l.className="cv-certificate-button",l.textContent=d.t("cv.buttons.details"),i.url?l.addEventListener("click",()=>{window.open(i.url,"_blank","noopener,noreferrer")}):(l.disabled=!0,l.title=d.t("cv.certificateUnavailable")),n.appendChild(l),a.appendChild(n)}),a}createCoursesSection(t){if(!t||t.length===0)return null;const a=document.createElement("div");return a.className="cv-courses-list",t.forEach(i=>{const n=document.createElement("div");n.className="cv-course-item",n.setAttribute("data-course-id",i.id||"");const e=document.createElement("h3");e.className="cv-course-title";const o=d.getCurrentLanguage();i.titleLocalized&&i.titleLocalized[o]?e.textContent=i.titleLocalized[o]:e.textContent=i.title||"",n.appendChild(e);const c=document.createElement("div");c.className="cv-course-meta";const l=document.createElement("span");if(l.className="cv-course-organization",l.textContent=i.organization||"",c.appendChild(l),i.year){const s=document.createElement("span");s.className="cv-course-year",s.textContent=i.year.toString(),c.appendChild(s)}n.appendChild(c),a.appendChild(n)}),a}createLanguagesSection(t){if(!t||t.length===0)return null;const a=document.createElement("div");return a.className="cv-languages-list",t.forEach(i=>{const n=document.createElement("div");n.className="cv-language-item",n.setAttribute("data-language",i.language||"");const e=document.createElement("h3");e.className="cv-language-name";const o=d.getCurrentLanguage();if(i.languageLocalized&&i.languageLocalized[o]?e.textContent=i.languageLocalized[o]:e.textContent=i.language||"",n.appendChild(e),i.level){const c=document.createElement("span");c.className="cv-language-level",i.levelLocalized&&i.levelLocalized[o]?c.textContent=i.levelLocalized[o]:c.textContent=i.level,n.appendChild(c)}a.appendChild(n)}),a}createDownloadButton(){const t=document.createElement("div");t.className="cv-download-wrapper";const a=document.createElement("a");a.className="cv-download-button cta-button",a.href="https://docs.google.com/document/d/15toQDK1N_Tt6c8jg8v8mfzUBjL0Xi34xeVMMH5x_Jns/edit?usp=sharing",a.textContent=d.t("cv.buttons.downloadRU"),a.target="_blank";const i=document.createElement("a");return i.className="cv-download-button cta-button",i.href="https://docs.google.com/document/d/1XUQqdlww_pMwcZ04OSdwZJq9leMMBnhE9d7yyT_5LTQ/edit?tab=t.0",i.textContent=d.t("cv.buttons.downloadEN"),i.target="_blank",t.appendChild(a),t.appendChild(i),t}createWorkSection(t){const a=document.getElementById("cv-work-section");if(!a||!t.workExperience||t.workExperience.length===0)return;a.style.display="block",a.style.visibility="visible";const i=document.createElement("h2");i.className="cv-section-title",i.textContent=d.t("cv.sections.workExperience"),a.appendChild(i);const n=document.createElement("div");n.className="timeline-container timeline-work";let e=!1;t.workExperience.forEach(o=>{const c=this.createWorkExperienceItem(o);c&&(e=!0,n.appendChild(c))}),e?(a.appendChild(n),a.style.visibility="visible",this.animationManager&&this.animationManager.hideAllCVElementsImmediately()):a.style.display="none"}createEducationSection(t){const a=document.getElementById("cv-education-section");if(!a||!t.education||t.education.length===0)return;a.style.display="block",a.style.visibility="visible";const i=document.createElement("h2");i.className="cv-section-title",i.textContent=d.t("cv.sections.education"),a.appendChild(i);const n=document.createElement("div");n.className="timeline-container timeline-education";let e=!1;t.education.forEach(o=>{const c=this.createEducationItem(o);c&&(e=!0,n.appendChild(c))}),e?(a.appendChild(n),a.style.visibility="visible",this.animationManager&&this.animationManager.hideAllCVElementsImmediately()):a.style.display="none"}ensureScrollAtTop(){const a=window.innerWidth<1024||window.innerHeight<900?document.querySelector(".page-wrapper"):window;a===window?window.scrollTo(0,0):a&&(a.scrollTop=0)}async init(){await this.initBase(),this.languageChangeHandler=()=>{this.updateContentLanguage()},window.addEventListener("languageChanged",this.languageChangeHandler),this.initLoadingIndicator("cv-loading","cv-loading-container"),this.loadingIndicator.show(),await this.initAnimationManager(),this.animationManager&&this.animationManager.hideAllCVElementsImmediately(),await this.loadTemplates();const t=await this.loadCVData();this.cvData=t;const a=await this.loadCommunityData();if(await this.loadingIndicator.hide(),!t){const r=document.getElementById("cv-header-section");r&&(r.innerHTML=`<p>${d.t("cv.errors.loadFailed")}</p>`,r.style.display="block",r.style.visibility="visible",r.style.opacity="");return}document.querySelectorAll(".cv-section, #cv-download-section").forEach(r=>{r.innerHTML="",r.style.display="",r.style.visibility="",r.style.setProperty("opacity","0","important"),r.style.setProperty("transform","translateY(10px)","important"),r.style.setProperty("transition","none","important")});const n=document.getElementById("cv-header-section");if(n){n.style.display="block",n.style.visibility="visible",n.style.opacity="0",n.style.transform="translateY(10px)",n.style.transition="none";const r=this.createHeaderSection(a,t.about,t.skills);r&&(n.appendChild(r),this.animationManager&&this.animationManager.hideAllCVElementsImmediately())}const e=document.getElementById("cv-about-section");e&&(e.style.display="none"),this.createWorkSection(t),this.createEducationSection(t);const o=document.getElementById("cv-skills-section");o&&(o.style.display="none");const c=document.getElementById("cv-certificates-section");if(c&&t.certificates&&t.certificates.length>0){c.style.display="block",c.style.visibility="visible";const r=document.createElement("h2");r.className="cv-section-title",r.textContent=d.t("cv.sections.certificates"),c.appendChild(r);const u=this.createCertificatesSection(t.certificates);u?(c.appendChild(u),c.style.visibility="visible",this.animationManager&&this.animationManager.hideAllCVElementsImmediately()):c.style.display="none"}const l=document.getElementById("cv-courses-section");if(l&&t.courses&&t.courses.length>0){l.style.display="block",l.style.visibility="visible";const r=document.createElement("h2");r.className="cv-section-title",r.textContent=d.t("cv.sections.courses"),l.appendChild(r);const u=this.createCoursesSection(t.courses);u?(l.appendChild(u),l.style.visibility="visible",this.animationManager&&this.animationManager.hideAllCVElementsImmediately()):l.style.display="none"}const s=document.getElementById("cv-languages-section");if(s&&t.languages&&t.languages.length>0){s.style.display="block",s.style.visibility="visible";const r=document.createElement("h2");r.className="cv-section-title",r.textContent=d.t("cv.sections.languages"),s.appendChild(r);const u=this.createLanguagesSection(t.languages);u?(s.appendChild(u),s.style.visibility="visible",this.animationManager&&this.animationManager.hideAllCVElementsImmediately()):s.style.display="none"}const m=document.getElementById("cv-download-section");if(m){m.style.display="block",m.style.visibility="visible";const r=this.createDownloadButton();r&&(m.appendChild(r),m.style.visibility="visible",this.animationManager&&this.animationManager.hideAllCVElementsImmediately())}requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.ensureScrollAtTop(),setTimeout(()=>this.ensureScrollAtTop(),0),setTimeout(()=>this.ensureScrollAtTop(),50),setTimeout(()=>this.ensureScrollAtTop(),100),setTimeout(()=>this.ensureScrollAtTop(),200)})}),this.updateContentLanguage(),await this.waitForPageReady(),this.animationManager&&this.animationManager.initializeAnimations()}handlePageshow(t){if(t.persisted){const a=document.getElementById("cv-header-section");a&&a.children.length>0&&setTimeout(async()=>{await this.initAnimationManager(),this.animationManager&&this.animationManager.initializeAnimations()},100)}}updateContentLanguage(){if(Object.entries({"cv-work-section":"cv.sections.workExperience","cv-education-section":"cv.sections.education","cv-skills-section":"cv.sections.skills","cv-certificates-section":"cv.sections.certificates","cv-courses-section":"cv.sections.courses","cv-languages-section":"cv.sections.languages"}).forEach(([i,n])=>{const e=document.getElementById(i);if(e){const o=e.querySelector(".cv-section-title");o&&(o.textContent=d.t(n))}}),document.querySelectorAll(".cv-download-button").forEach((i,n)=>{n===0?i.textContent=d.t("cv.buttons.downloadRU"):n===1&&(i.textContent=d.t("cv.buttons.downloadEN"))}),document.querySelectorAll(".cv-skill-category-title").forEach((i,n)=>{const e=["cv.skills.categories.designPrototyping.title","cv.skills.categories.technicalScripting.title","cv.skills.categories.designDocumentation.title","cv.skills.categories.productionCollaboration.title","cv.skills.categories.assetCreation.title"];e[n]&&(i.textContent=d.t(e[n]))}),document.querySelectorAll(".cv-skill-category-description").forEach((i,n)=>{const e=["cv.skills.categories.designPrototyping.description","cv.skills.categories.technicalScripting.description","cv.skills.categories.designDocumentation.description","cv.skills.categories.productionCollaboration.description","cv.skills.categories.assetCreation.description"];e[n]&&(i.textContent=d.t(e[n]))}),document.querySelectorAll(".cv-certificate-button").forEach(i=>{i.textContent=d.t("cv.buttons.details")}),this.cvData&&this.cvData.about){const i=document.querySelector(".cv-header-about");if(i){const n=d.getCurrentLanguage();let e="";this.cvData.aboutLocalized&&this.cvData.aboutLocalized[n]?e=this.cvData.aboutLocalized[n]:e=this.cvData.about;const o=e.trim().split(`

`).filter(l=>l.trim()),c=i.querySelectorAll(".cv-about-text");o.forEach((l,s)=>{c[s]&&(c[s].textContent=l.trim())})}}document.querySelectorAll('[data-type="work"]').forEach(i=>{const n=i.getAttribute("data-cv-id");if(n&&this.cvData&&this.cvData.workExperience){const e=this.cvData.workExperience.find(o=>o.id===n);if(e){const o=d.getCurrentLanguage(),c=i.querySelector(".timeline-period");c&&e.period&&(c.textContent=h.formatPeriod(e.period,o));const l=i.querySelector(".timeline-title");l&&(e.positionLocalized&&e.positionLocalized[o]?l.textContent=e.positionLocalized[o]:l.textContent=e.position||"");const s=i.querySelector(".timeline-subtitle");s&&(e.companyLocalized&&e.companyLocalized[o]?s.textContent=e.companyLocalized[o]:s.textContent=e.company||"");const m=i.querySelector(".timeline-description");m&&(m.textContent=d.t("cv.workDescription"))}}}),document.querySelectorAll('[data-type="education"]').forEach(i=>{const n=i.getAttribute("data-cv-id");if(n&&this.cvData&&this.cvData.education){const e=this.cvData.education.find(o=>o.id===n);if(e){const o=d.getCurrentLanguage(),c=i.querySelector(".timeline-period");c&&e.period&&(c.textContent=h.formatPeriod(e.period,o));const l=i.querySelector(".timeline-title");l&&(e.directionLocalized&&e.directionLocalized[o]?l.textContent=e.directionLocalized[o]:l.textContent=e.direction||"");const s=i.querySelector(".timeline-subtitle");if(s){let r="";e.institutionShortLocalized&&e.institutionShortLocalized[o]?r=e.institutionShortLocalized[o]:e.institutionLocalized&&e.institutionLocalized[o]?r=e.institutionLocalized[o]:r=e.institutionShort||e.institution||"";const u=e.degreeLocalized&&e.degreeLocalized[o]?`, ${e.degreeLocalized[o]}`:e.degree?`, ${e.degree}`:"";if(s.textContent=`${r}${u}`,e.location){const g=e.locationLocalized&&e.locationLocalized[o]?e.locationLocalized[o]:e.location;s.textContent+=` (${g})`}}const m=i.querySelector(".timeline-description");if(m&&e.status){const r=e.status==="in-progress"?"inProgress":"completed";m.textContent=d.t(`cv.status.${r}`)}}}}),this.cvData&&this.cvData.courses&&document.querySelectorAll(".cv-course-item").forEach(i=>{const n=i.getAttribute("data-course-id");if(n){const e=this.cvData.courses.find(o=>o.id===n);if(e){const o=d.getCurrentLanguage(),c=i.querySelector(".cv-course-title");c&&(e.titleLocalized&&e.titleLocalized[o]?c.textContent=e.titleLocalized[o]:c.textContent=e.title||"")}}}),this.cvData&&this.cvData.languages&&document.querySelectorAll(".cv-language-item").forEach(i=>{const n=i.getAttribute("data-language");if(n){const e=this.cvData.languages.find(o=>o.language===n);if(e){const o=d.getCurrentLanguage(),c=i.querySelector(".cv-language-name");c&&(e.languageLocalized&&e.languageLocalized[o]?c.textContent=e.languageLocalized[o]:c.textContent=e.language||"");const l=i.querySelector(".cv-language-level");l&&e.level&&(e.levelLocalized&&e.levelLocalized[o]?l.textContent=e.levelLocalized[o]:l.textContent=e.level)}}})}destroy(){this.languageChangeHandler&&window.removeEventListener("languageChanged",this.languageChangeHandler)}}export{M as CVPage};
