import{l as c,g as x,S as v}from"./utils-BGwBK1z0.js";class L{static createProjectCard(C,e,r){var g,f;if(!C)return null;const s=C.cloneNode(!0),d=s.querySelector(".project-card-title"),m=s.querySelector(".project-card-description"),n=s.querySelector(".project-card-image"),p=s.querySelector(".project-card-tags"),u=s.querySelector(".project-card-status"),y=s.querySelector(".project-card-category"),i=s.querySelector(".project-card-type"),t=s.querySelector(".project-card-year"),o=s.querySelector(".project-card-role");if(d){const a=c.getCurrentLanguage();e.titleLocalized&&e.titleLocalized[a]?d.textContent=e.titleLocalized[a]:d.textContent=e.title}if(m){const a=c.getCurrentLanguage();e.descriptionLocalized&&e.descriptionLocalized[a]?m.textContent=e.descriptionLocalized[a]:m.textContent=e.description||""}if(n&&((g=e.media)!=null&&g.preview)&&(n.dataset.src=e.media.preview,n.alt=e.title,n.loading="lazy",n.decoding="async",n.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"%3E%3C/svg%3E',n.onerror=function(){this.src="assets/images/portrait-placeholder.svg"}),p&&((f=e.tags)!=null&&f.length)&&(p.innerHTML="",e.tags.forEach(a=>{const h=document.createElement("span");h.className="project-card-tag",h.textContent=a,p.appendChild(h)})),u){const a=e.status==="completed"?"completed":"inDevelopment";u.textContent=c.t(`projects.filters.statuses.${a}`),u.className=`project-card-status project-card-status-${e.status}`}if(y&&(y.style.display="none"),i){const a={game:c.t("projects.card.types.game"),document:c.t("projects.card.types.document"),tool:c.t("projects.card.types.tool"),script:c.t("projects.card.types.script")};i.textContent=a[e.type]||e.type}if(e.featured&&d){const a=document.createElement("span");a.className="project-card-star",a.setAttribute("data-svg-src","assets/images/icon-star.svg"),a.setAttribute("aria-label",c.t("projects.card.featured")),d.appendChild(a)}if(e.tier===2&&d){const a=document.createElement("span");a.className="project-card-divider",a.setAttribute("data-svg-src","assets/images/icon-divider-small.svg"),a.setAttribute("aria-label",c.t("projects.card.tier2")),d.appendChild(a)}t&&e.year&&(t.textContent=e.year),o&&(o.textContent=x(e.role,!1,e.teamName)),s.setAttribute("data-project-id",e.id),s.setAttribute("data-category",e.category),s.setAttribute("data-type",e.type),s.setAttribute("data-status",e.status),e.year&&s.setAttribute("data-year",e.year.toString()),s.addEventListener("click",a=>{const h=window.getSelection();h&&h.toString().trim().length>0||(a.stopPropagation(),!e.comingSoon&&r&&r(e))});const l=s.querySelector(".project-card-button");if(l){if(e.comingSoon)l.textContent=c.t("projects.card.comingSoon"),l.disabled=!0,l.setAttribute("aria-label",c.t("projects.card.comingSoonAria"));else{const a=l.querySelector("span[data-i18n]");a?a.textContent=c.t("projects.card.details"):l.textContent=c.t("projects.card.details"),l.setAttribute("aria-label",c.t("projects.card.detailsAria"))}l.addEventListener("click",a=>{a.stopPropagation(),!e.comingSoon&&r&&r(e)})}return s}static createResearchCard(C,e){if(!C)return null;const r=C.cloneNode(!0),s=r.querySelector(".research-card-title"),d=r.querySelector(".research-card-type"),m=r.querySelector(".research-card-keywords"),n=r.querySelector(".research-card-button");if(s){const t=c.getCurrentLanguage();e.titleLocalized&&e.titleLocalized[t]?s.textContent=e.titleLocalized[t]:s.textContent=e.title}const p=r.querySelector(".research-card-journal-wrapper");if(p){const t=p.querySelector(".research-card-journal"),o=p.querySelector(".research-card-level");if(t&&e.journal){const f=c.getCurrentLanguage();let a="";if(e.journalLocalized&&e.journalLocalized[f]?a=e.journalLocalized[f]:a=e.journal,e.location){const h=e.locationLocalized&&e.locationLocalized[f]?e.locationLocalized[f]:e.location;a+=` (${h})`}t.textContent=a}else t&&(t.style.display="none");if(o&&e.level){c.getCurrentLanguage();const f=e.level==="РИНЦ"?"RSCI":e.level,a=c.t(`research.levels.${f}`);a&&a!==`research.levels.${f}`?o.textContent=a:o.textContent=e.level}else o&&(o.style.display="none");const l=t&&e.journal&&t.style.display!=="none",g=o&&e.level&&o.style.display!=="none";!l&&!g&&(p.style.display="none")}if(d&&(d.textContent=v.getTypeText(e.type)),m&&e.keywords&&e.keywords.length>0){m.innerHTML="";const t=c.getCurrentLanguage();(e.keywordsLocalized&&e.keywordsLocalized[t]?e.keywordsLocalized[t]:e.keywords).forEach(l=>{const g=document.createElement("span");g.className="research-card-keyword",g.textContent=l,m.appendChild(g)})}else m&&(m.style.display="none");const y=(()=>{if(e.links&&Object.keys(e.links).length>0){const t=Object.values(e.links)[0];if(t)return t.startsWith("http")?t:`/${t}`}return null})();if(n)if(y){const t=n.querySelector("span[data-i18n]");t?t.textContent=c.t("research.card.read"):n.textContent=c.t("research.card.read"),n.setAttribute("aria-label",c.t("research.card.readAria")),n.addEventListener("click",o=>{o.stopPropagation(),window.open(y,"_blank","noopener,noreferrer")})}else{n.disabled=!0;const t=n.querySelector("span[data-i18n]");t?t.textContent=c.t("research.card.comingSoon"):n.textContent=c.t("research.card.comingSoon"),n.setAttribute("aria-label",c.t("research.card.comingSoonAria"))}y?r.addEventListener("click",t=>{const o=window.getSelection();o&&o.toString().trim().length>0||(t.stopPropagation(),window.open(y,"_blank","noopener,noreferrer"))}):r.addEventListener("click",t=>{const o=window.getSelection();o&&o.toString().trim().length>0||t.stopPropagation()}),r.setAttribute("data-research-id",e.id),r.setAttribute("data-type",e.type),r.setAttribute("data-status",e.status),e.type==="diploma"&&r.classList.add("research-card-diploma");let i=null;return r.addEventListener("mouseenter",()=>{r.style.willChange="transform",i&&(clearTimeout(i),i=null)}),r.addEventListener("mouseleave",()=>{i=setTimeout(()=>{r.style.willChange="auto",i=null},300)}),r}static createCommunityCard(C){const{url:e,iconPath:r,platformName:s,ariaLabel:d,description:m,subtitle:n,isDiscord:p}=C;if(p)return this.createDiscordCard(e,r,s,d,m,n);const u=document.createElement("a");u.href=e||"#",u.target="_blank",u.rel="noopener noreferrer",u.className="community-card",u.setAttribute("aria-label",d);const y=document.createElement("div");y.className="community-card-content";const i=document.createElement("h3");i.className="community-card-title";const t=document.createElement("div");t.className="community-card-icon";const o=document.createElement("span");o.setAttribute("data-svg-src",r),t.appendChild(o),i.appendChild(t);const l=document.createElement("span");if(l.className="community-card-title-text",l.textContent=s,i.appendChild(l),y.appendChild(i),n){const g=document.createElement("p");g.className="community-card-subtitle",g.textContent=n,y.appendChild(g)}if(m){const g=document.createElement("p");g.className="community-card-description",g.textContent=m,y.appendChild(g)}return u.appendChild(y),u}static createDiscordCard(C,e,r,s,d,m){const n=document.createElement("a");n.href=C||"#",n.target="_blank",n.rel="noopener noreferrer",n.className="community-card community-card-discord",n.setAttribute("aria-label",s);const p=document.createElement("div");p.className="community-card-content";const u=document.createElement("div");u.className="community-card-icon community-card-icon-left";const y=document.createElement("span");y.setAttribute("data-svg-src",e),u.appendChild(y),p.appendChild(u);const i=document.createElement("div");i.className="community-card-text-block";const t=document.createElement("h3");t.className="community-card-title";const o=document.createElement("span");if(o.className="community-card-title-text",o.textContent=r,t.appendChild(o),i.appendChild(t),m){const l=document.createElement("p");l.className="community-card-subtitle",l.textContent=m,i.appendChild(l)}if(d){const l=document.createElement("p");l.className="community-card-description",l.textContent=d,i.appendChild(l)}return p.appendChild(i),n.appendChild(p),n}}export{L as C};
