import{C as d,L as c,T as u}from"./components-core-DxJLR8x9.js";import{S as s}from"./components-scroll-DF6W2z7Q.js";import{a as f}from"./components-scroll-DF6W2z7Q.js";import{SvgLoader as S}from"./components-svg-y7IOwReE.js";import{F as y}from"./components-background-BXvjSBPs.js";import"./utils-BGwBK1z0.js";class r{constructor(){this.slidesContainer=null,this.slides=null,this.progressContainer=null,this.header=null,this.footer=null,this.decorativeLines=null,this.currentSlideIndex=0,this.isScrolling=!1,this.SLIDE_TRANSITION_DURATION=300,this.scrollTimeout=this.SLIDE_TRANSITION_DURATION+50,this.progressDots=[],this.slideTransitionTimeout=null,this.isTabletMode=!1,this.menuButton=null,this.ctaSection=null,this.slideHint=null,this.HINT_DELAY=7e3,this.hintTimeout=null,this.hintShown=!1,this.hasLeftFirstSlide=!1,this.scrollManager=null}init(){this.slidesContainer=document.querySelector(".slides-container"),this.slides=document.querySelectorAll(".slide"),this.progressContainer=document.querySelector(".footer-decorative"),this.header=document.querySelector(".header"),this.footer=document.querySelector(".footer"),this.decorativeLines=document.querySelectorAll(".decorative-line-horizontal"),!(!this.slidesContainer||this.slides.length===0||!this.progressContainer||!this.header||!this.footer||this.decorativeLines.length===0)&&(this.menuButton=document.querySelector(".header-menu-button"),this.ctaSection=document.getElementById("cta-section"),this.slideHint=document.getElementById("slide-hint"),this.menuButton&&this.menuButton.addEventListener("click",()=>{window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),this.createProgressDots(),this.slides.forEach(e=>{e.classList.remove("active")}),this.scrollManager=new s(".page-wrapper",e=>{this.isTabletMode=e,this.checkViewport(e)}),this.scrollManager.init(),this.setupWheelHandler(),this.isTabletMode||(this.showSlideImmediate(0),this.startHintTimer()))}showHint(){this.slideHint&&!this.isTabletMode&&this.currentSlideIndex===0&&!this.hintShown&&!this.hasLeftFirstSlide&&(this.slideHint.classList.add("visible"),this.hintShown=!0)}hideHint(){this.slideHint&&(this.slideHint.classList.remove("visible"),this.hintShown=!1)}startHintTimer(){this.hintTimeout&&(clearTimeout(this.hintTimeout),this.hintTimeout=null),this.hideHint(),this.currentSlideIndex===0&&!this.isTabletMode&&this.slideHint&&!this.hasLeftFirstSlide&&(this.hintTimeout=setTimeout(()=>{this.showHint()},this.HINT_DELAY))}stopHintTimer(){this.hintTimeout&&(clearTimeout(this.hintTimeout),this.hintTimeout=null),this.hideHint()}checkViewport(e){if(e){this.slidesContainer.classList.add("tablet-scroll-mode"),document.documentElement.classList.add("page-with-scroll"),document.body.classList.add("page-with-scroll");const i=document.getElementById("scroll-to-top");i&&(i.style.display="",i.style.opacity="",i.style.visibility="",i.style.transition=""),this.slides.forEach(t=>{t.classList.remove("active"),t.style.opacity="1",t.style.visibility="visible",t.style.display="block",t.style.position="static"}),this.slideHint&&(this.slideHint.classList.remove("visible"),this.slideHint.style.opacity="0",this.slideHint.style.visibility="hidden",this.slideHint.style.transition="none",this.hintShown=!1),this.stopHintTimer()}else{this.slidesContainer.classList.add("is-resizing"),this.slidesContainer.classList.remove("tablet-scroll-mode"),document.documentElement.classList.remove("page-with-scroll"),document.body.classList.remove("page-with-scroll");const i=document.getElementById("scroll-to-top");i&&(i.classList.remove("visible"),i.style.display="none",i.style.opacity="0",i.style.visibility="hidden",i.style.transition="none"),this.slideHint&&(this.slideHint.style.opacity="",this.slideHint.style.visibility="",this.slideHint.style.transition=""),this.slides.forEach(t=>{t.style.opacity="",t.style.visibility="",t.style.display="",t.style.position=""}),this.showSlideImmediate(this.currentSlideIndex),setTimeout(()=>{this.slidesContainer.classList.remove("is-resizing");const t=document.getElementById("scroll-to-top");t&&(t.style.transition="")},50),this.currentSlideIndex===0&&this.startHintTimer()}}createProgressDots(){this.progressContainer.innerHTML="",this.progressDots.length=0,this.slides.forEach((e,i)=>{const t=document.createElement("div");t.classList.add("footer-decorative-square"),t.setAttribute("data-slide-index",i),t.addEventListener("click",()=>this.changeSlide(i)),this.progressContainer.appendChild(t),this.progressDots.push(t)})}showSlideImmediate(e){this.currentSlideIndex=e,this.slides.forEach((i,t)=>{t===e?i.classList.add("active"):i.classList.remove("active")}),this.progressDots.forEach((i,t)=>{t===e?i.classList.add("active"):i.classList.remove("active")})}showSlide(e){this.currentSlideIndex===0&&e!==0&&(this.hasLeftFirstSlide=!0),this.currentSlideIndex=e,this.slides.forEach((i,t)=>i.classList.toggle("active",t===e)),this.progressDots.forEach((i,t)=>i.classList.toggle("active",t===e)),e===0&&!this.isTabletMode&&!this.hasLeftFirstSlide?this.startHintTimer():this.stopHintTimer()}changeSlide(e){this.isScrolling||e>=0&&e<this.slides.length&&(window.getSelection&&window.getSelection().removeAllRanges(),this.isScrolling=!0,this.showSlide(e),setTimeout(()=>{this.isScrolling=!1},this.scrollTimeout))}setupWheelHandler(){window.addEventListener("wheel",e=>{if(this.isScrolling||this.isTabletMode)return;this.stopHintTimer();const i=e.deltaY>0?1:-1,t=this.currentSlideIndex+i;this.changeSlide(t)})}}export{d as CustomCursor,y as FluidBackground,c as LanguageSwitcher,s as ScrollManager,f as ScrollToTopButton,r as SlidesManager,S as SvgLoader,u as ThemeSwitcher};
