import{B as E}from"./page-base-page-DE7KUBcH.js";import{l as d,D as h}from"./utils-DDkmD0RB.js";import{C as L}from"./managers-BD3WS2NZ.js";import"./components-scroll-CzkIP5QM.js";import"./layout-C0B9eYKg.js";import"./components-core-CO-goFmY.js";import"./services-CkGXMzVl.js";class T extends E{constructor(){super({navigationSelector:".cv-navigation",imageSelector:".cv-page img"}),this.animationManager=null,this.timelineTemplate=null,this.cvData=null}async initAnimationManager(){return this.animationManager||(this.animationManager=new L),this.animationManager}async loadTemplates(){return this.timelineTemplate=await this.loadPageTemplate("/components/timeline.html",".timeline-item",!1),this.timelineTemplate}async loadCVData(){return this.loadPageData("/data/cv.json",{},null)}async loadCommunityData(){return this.loadPageData("/data/community.json",{},null)}createHeaderSection(t,o,i){const a=document.createElement("div");a.className="cv-header";const e=document.createElement("div");e.className="cv-header-content";const n=document.createElement("div");n.className="cv-header-photo";const c=document.createElement("img");c.src="assets/images/portrait-cv.webp",c.alt="Maxim Elchaninov",c.className="cv-header-photo-image",c.decoding="async",c.loading="eager",c.fetchPriority="high",c.setAttribute("width","200"),c.setAttribute("height","300"),c.onerror=function(){this.src="assets/images/portrait-placeholder.svg"},n.appendChild(c),e.appendChild(n);const l=document.createElement("div");l.className="cv-header-top";const s=document.createElement("h2");s.className="cv-header-name",s.textContent=d.t("cv.name");const m=document.createElement("h3");m.className="cv-header-role",m.textContent=d.t("cv.role");const u=document.createElement("div");u.className="cv-header-contacts-wrapper";const r=document.createElement("a");r.className="cv-header-contact-link",r.href="mailto:slcrmmbr@outlook.com",r.textContent="slcrmmbr@outlook.com",u.appendChild(r);const g=document.createElement("a");if(g.className="cv-header-contact-link",t&&t.socialLinks&&t.socialLinks.telegram&&t.socialLinks.telegram!=="https://t.me/..."?g.href=t.socialLinks.telegram:g.href="https://t.me/silenceremember",g.target="_blank",g.rel="noopener noreferrer",g.textContent="t.me/silenceremember",u.appendChild(g),l.appendChild(s),l.appendChild(m),l.appendChild(u),e.appendChild(l),o){const p=document.createElement("div");p.className="cv-header-about";const f=o.trim().split(`

`).filter(v=>v.trim());f.forEach((v,b)=>{const y=document.createElement("p");if(y.className="cv-about-text",y.textContent=v.trim(),p.appendChild(y),b<f.length-1){const C=document.createElement("div");C.className="cv-about-divider",p.appendChild(C)}}),e.appendChild(p)}if(a.appendChild(e),i){const p=this.createSkillsSection(i);p&&a.appendChild(p)}return a}createWorkExperienceItem(t){if(!this.timelineTemplate)return null;const o=this.timelineTemplate.cloneNode(!0),i=o.querySelector(".timeline-period"),a=o.querySelector(".timeline-title"),e=o.querySelector(".timeline-subtitle"),n=o.querySelector(".timeline-description"),c=o.querySelector(".timeline-list"),l=o.querySelector(".timeline-tags");if(i&&t.period){const s=d.getCurrentLanguage();i.textContent=h.formatPeriod(t.period,s)}if(a){const s=d.getCurrentLanguage();t.positionLocalized&&t.positionLocalized[s]?a.textContent=t.positionLocalized[s]:a.textContent=t.position||""}if(e){const s=d.getCurrentLanguage();t.companyLocalized&&t.companyLocalized[s]?e.textContent=t.companyLocalized[s]:e.textContent=t.company||""}return n&&(n.textContent=d.t("cv.workDescription"),n.style.display="block"),c&&(c.style.display="none"),l&&(l.style.display="none"),o.setAttribute("data-cv-id",t.id||""),o.setAttribute("data-type","work"),o}createEducationItem(t){if(!this.timelineTemplate)return null;const o=this.timelineTemplate.cloneNode(!0),i=o.querySelector(".timeline-period"),a=o.querySelector(".timeline-title"),e=o.querySelector(".timeline-subtitle"),n=o.querySelector(".timeline-description"),c=o.querySelector(".timeline-list"),l=o.querySelector(".timeline-tags");if(i&&t.period){const s=d.getCurrentLanguage();i.textContent=h.formatPeriod(t.period,s)}if(a){const s=d.getCurrentLanguage();t.directionLocalized&&t.directionLocalized[s]?a.textContent=t.directionLocalized[s]:a.textContent=t.direction||""}if(e){const s=d.getCurrentLanguage();let m="";t.institutionShortLocalized&&t.institutionShortLocalized[s]?m=t.institutionShortLocalized[s]:t.institutionLocalized&&t.institutionLocalized[s]?m=t.institutionLocalized[s]:m=t.institutionShort||t.institution||"";const u=t.degreeLocalized&&t.degreeLocalized[s]?`, ${t.degreeLocalized[s]}`:t.degree?`, ${t.degree}`:"";if(e.textContent=`${m}${u}`,t.location){const r=t.locationLocalized&&t.locationLocalized[s]?t.locationLocalized[s]:t.location;e.textContent+=` (${r})`}}if(n){const s=t.status==="in-progress"?"inProgress":"completed";n.textContent=d.t(`cv.status.${s}`),n.style.display="block"}return c&&(c.style.display="none"),l&&(l.style.display="none"),o.setAttribute("data-cv-id",t.id||""),o.setAttribute("data-type","education"),t.status&&o.setAttribute("data-status",t.status),o}createSkillsSection(t){if(!t)return null;const o=document.createElement("div");return o.className="cv-skills-grid",[{key:"design-prototyping",titleKey:"cv.skills.categories.designPrototyping.title",descriptionKey:"cv.skills.categories.designPrototyping.description",skills:t["design-prototyping"]||[]},{key:"technical-scripting",titleKey:"cv.skills.categories.technicalScripting.title",descriptionKey:"cv.skills.categories.technicalScripting.description",skills:t["technical-scripting"]||[]},{key:"design-documentation",titleKey:"cv.skills.categories.designDocumentation.title",descriptionKey:"cv.skills.categories.designDocumentation.description",skills:t["design-documentation"]||[]},{key:"production-collaboration",titleKey:"cv.skills.categories.productionCollaboration.title",descriptionKey:"cv.skills.categories.productionCollaboration.description",skills:t["production-collaboration"]||[]},{key:"asset-creation",titleKey:"cv.skills.categories.assetCreation.title",descriptionKey:"cv.skills.categories.assetCreation.description",skills:t["asset-creation"]||[]}].forEach(a=>{if(a.skills.length===0)return;const e=document.createElement("div");e.className="cv-skill-category";const n=document.createElement("h3");if(n.className="cv-skill-category-title",n.textContent=d.t(a.titleKey),e.appendChild(n),a.descriptionKey){const l=document.createElement("p");l.className="cv-skill-category-description",l.textContent=d.t(a.descriptionKey),e.appendChild(l)}const c=document.createElement("div");c.className="cv-skill-list",a.skills.forEach(l=>{const s=document.createElement("span");s.className="cv-skill-tag",s.textContent=l,c.appendChild(s)}),e.appendChild(c),o.appendChild(e)}),o}createCertificatesSection(t){if(!t||t.length===0)return null;const o=document.createElement("div");return o.className="cv-certificates-list",t.forEach(i=>{const a=document.createElement("div");a.className="cv-certificate-item";const e=document.createElement("h3");e.className="cv-certificate-title",e.textContent=i.title||"",a.appendChild(e);const n=document.createElement("div");n.className="cv-certificate-meta";const c=document.createElement("span");if(c.className="cv-certificate-organization",c.textContent=i.organization||"",n.appendChild(c),i.year){const s=document.createElement("span");s.className="cv-certificate-year",s.textContent=i.year.toString(),n.appendChild(s)}a.appendChild(n);const l=document.createElement("button");l.className="cv-certificate-button",l.textContent=d.t("cv.buttons.details"),i.url?l.addEventListener("click",()=>{window.open(i.url,"_blank","noopener,noreferrer")}):(l.disabled=!0,l.title=d.t("cv.certificateUnavailable")),a.appendChild(l),o.appendChild(a)}),o}createCoursesSection(t){if(!t||t.length===0)return null;const o=document.createElement("div");return o.className="cv-courses-list",t.forEach(i=>{const a=document.createElement("div");a.className="cv-course-item",a.setAttribute("data-course-id",i.id||"");const e=document.createElement("h3");e.className="cv-course-title";const n=d.getCurrentLanguage();i.titleLocalized&&i.titleLocalized[n]?e.textContent=i.titleLocalized[n]:e.textContent=i.title||"",a.appendChild(e);const c=document.createElement("div");c.className="cv-course-meta";const l=document.createElement("span");if(l.className="cv-course-organization",l.textContent=i.organization||"",c.appendChild(l),i.year){const s=document.createElement("span");s.className="cv-course-year",s.textContent=i.year.toString(),c.appendChild(s)}a.appendChild(c),o.appendChild(a)}),o}createLanguagesSection(t){if(!t||t.length===0)return null;const o=document.createElement("div");return o.className="cv-languages-list",t.forEach(i=>{const a=document.createElement("div");a.className="cv-language-item",a.setAttribute("data-language",i.language||"");const e=document.createElement("h3");e.className="cv-language-name";const n=d.getCurrentLanguage();if(i.languageLocalized&&i.languageLocalized[n]?e.textContent=i.languageLocalized[n]:e.textContent=i.language||"",a.appendChild(e),i.level){const c=document.createElement("span");c.className="cv-language-level",i.levelLocalized&&i.levelLocalized[n]?c.textContent=i.levelLocalized[n]:c.textContent=i.level,a.appendChild(c)}o.appendChild(a)}),o}createDownloadButton(){const t=document.createElement("div");t.className="cv-download-wrapper";const o=document.createElement("a");o.className="cv-download-button cta-button",o.href="https://docs.google.com/document/d/15toQDK1N_Tt6c8jg8v8mfzUBjL0Xi34xeVMMH5x_Jns/edit?usp=sharing",o.textContent=d.t("cv.buttons.downloadRU"),o.target="_blank";const i=document.createElement("a");return i.className="cv-download-button cta-button",i.href="https://docs.google.com/document/d/1XUQqdlww_pMwcZ04OSdwZJq9leMMBnhE9d7yyT_5LTQ/edit?tab=t.0",i.textContent=d.t("cv.buttons.downloadEN"),i.target="_blank",t.appendChild(o),t.appendChild(i),t}createWorkSection(t){const o=document.getElementById("cv-work-section");if(!o||!t.workExperience||t.workExperience.length===0)return;o.style.display="block",o.style.visibility="visible";const i=document.createElement("h2");i.className="cv-section-title",i.textContent=d.t("cv.sections.workExperience"),o.appendChild(i);const a=document.createElement("div");a.className="timeline-container timeline-work";let e=!1;t.workExperience.forEach(n=>{const c=this.createWorkExperienceItem(n);c&&(e=!0,a.appendChild(c))}),e?(o.appendChild(a),o.style.visibility="visible"):o.style.display="none"}createEducationSection(t){const o=document.getElementById("cv-education-section");if(!o||!t.education||t.education.length===0)return;o.style.display="block",o.style.visibility="visible";const i=document.createElement("h2");i.className="cv-section-title",i.textContent=d.t("cv.sections.education"),o.appendChild(i);const a=document.createElement("div");a.className="timeline-container timeline-education";let e=!1;t.education.forEach(n=>{const c=this.createEducationItem(n);c&&(e=!0,a.appendChild(c))}),e?(o.appendChild(a),o.style.visibility="visible"):o.style.display="none"}ensureScrollAtTop(){const o=window.innerWidth<1024||window.innerHeight<900?document.querySelector(".page-wrapper"):window;o===window?window.scrollTo(0,0):o&&(o.scrollTop=0)}async init(){await this.initBase(),this.languageChangeHandler=()=>{this.updateContentLanguage()},window.addEventListener("languageChanged",this.languageChangeHandler),this.initLoadingIndicator("cv-loading","cv-loading-container"),this.loadingIndicator.show(),await this.initAnimationManager();const[t,o,i]=await Promise.all([this.loadCVData(),this.loadCommunityData(),this.loadTemplates()]);if(this.cvData=t,await this.loadingIndicator.hide(),!t){const r=document.getElementById("cv-header-section");r&&(r.innerHTML=`<p>${d.t("cv.errors.loadFailed")}</p>`,r.style.display="block",r.style.visibility="visible",r.style.opacity="");return}document.querySelectorAll(".cv-section, #cv-download-section").forEach(r=>{r.innerHTML="",r.style.display="",r.style.visibility="",r.style.setProperty("opacity","0","important"),r.style.setProperty("transform","translateY(10px)","important"),r.style.setProperty("transition","none","important")});const e=document.getElementById("cv-header-section");if(e){e.style.display="block",e.style.visibility="visible",e.style.opacity="0",e.style.transform="translateY(10px)",e.style.transition="none";const r=this.createHeaderSection(o,t.about,t.skills);r&&e.appendChild(r)}const n=document.getElementById("cv-about-section");n&&(n.style.display="none"),this.createWorkSection(t),this.createEducationSection(t);const c=document.getElementById("cv-skills-section");c&&(c.style.display="none");const l=document.getElementById("cv-certificates-section");if(l&&t.certificates&&t.certificates.length>0){l.style.display="block",l.style.visibility="visible";const r=document.createElement("h2");r.className="cv-section-title",r.textContent=d.t("cv.sections.certificates"),l.appendChild(r);const g=this.createCertificatesSection(t.certificates);g?(l.appendChild(g),l.style.visibility="visible"):l.style.display="none"}const s=document.getElementById("cv-courses-section");if(s&&t.courses&&t.courses.length>0){s.style.display="block",s.style.visibility="visible";const r=document.createElement("h2");r.className="cv-section-title",r.textContent=d.t("cv.sections.courses"),s.appendChild(r);const g=this.createCoursesSection(t.courses);g?(s.appendChild(g),s.style.visibility="visible"):s.style.display="none"}const m=document.getElementById("cv-languages-section");if(m&&t.languages&&t.languages.length>0){m.style.display="block",m.style.visibility="visible";const r=document.createElement("h2");r.className="cv-section-title",r.textContent=d.t("cv.sections.languages"),m.appendChild(r);const g=this.createLanguagesSection(t.languages);g?(m.appendChild(g),m.style.visibility="visible"):m.style.display="none"}const u=document.getElementById("cv-download-section");if(u){u.style.display="block",u.style.visibility="visible";const r=this.createDownloadButton();r&&(u.appendChild(r),u.style.visibility="visible")}this.animationManager&&this.animationManager.hideAllCVElementsImmediately(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.ensureScrollAtTop()})}),this.updateContentLanguage(),await this.waitForPageReady(),this.animationManager&&this.animationManager.initializeAnimations()}handlePageshow(t){if(t.persisted){const o=document.getElementById("cv-header-section");o&&o.children.length>0&&setTimeout(async()=>{await this.initAnimationManager(),this.animationManager&&this.animationManager.initializeAnimations()},100)}}updateContentLanguage(){if(Object.entries({"cv-work-section":"cv.sections.workExperience","cv-education-section":"cv.sections.education","cv-skills-section":"cv.sections.skills","cv-certificates-section":"cv.sections.certificates","cv-courses-section":"cv.sections.courses","cv-languages-section":"cv.sections.languages"}).forEach(([i,a])=>{const e=document.getElementById(i);if(e){const n=e.querySelector(".cv-section-title");n&&(n.textContent=d.t(a))}}),document.querySelectorAll(".cv-download-button").forEach((i,a)=>{a===0?i.textContent=d.t("cv.buttons.downloadRU"):a===1&&(i.textContent=d.t("cv.buttons.downloadEN"))}),document.querySelectorAll(".cv-skill-category-title").forEach((i,a)=>{const e=["cv.skills.categories.designPrototyping.title","cv.skills.categories.technicalScripting.title","cv.skills.categories.designDocumentation.title","cv.skills.categories.productionCollaboration.title","cv.skills.categories.assetCreation.title"];e[a]&&(i.textContent=d.t(e[a]))}),document.querySelectorAll(".cv-skill-category-description").forEach((i,a)=>{const e=["cv.skills.categories.designPrototyping.description","cv.skills.categories.technicalScripting.description","cv.skills.categories.designDocumentation.description","cv.skills.categories.productionCollaboration.description","cv.skills.categories.assetCreation.description"];e[a]&&(i.textContent=d.t(e[a]))}),document.querySelectorAll(".cv-certificate-button").forEach(i=>{i.textContent=d.t("cv.buttons.details")}),this.cvData&&this.cvData.about){const i=document.querySelector(".cv-header-about");if(i){const a=d.getCurrentLanguage();let e="";this.cvData.aboutLocalized&&this.cvData.aboutLocalized[a]?e=this.cvData.aboutLocalized[a]:e=this.cvData.about;const n=e.trim().split(`

`).filter(l=>l.trim()),c=i.querySelectorAll(".cv-about-text");n.forEach((l,s)=>{c[s]&&(c[s].textContent=l.trim())})}}document.querySelectorAll('[data-type="work"]').forEach(i=>{const a=i.getAttribute("data-cv-id");if(a&&this.cvData&&this.cvData.workExperience){const e=this.cvData.workExperience.find(n=>n.id===a);if(e){const n=d.getCurrentLanguage(),c=i.querySelector(".timeline-period");c&&e.period&&(c.textContent=h.formatPeriod(e.period,n));const l=i.querySelector(".timeline-title");l&&(e.positionLocalized&&e.positionLocalized[n]?l.textContent=e.positionLocalized[n]:l.textContent=e.position||"");const s=i.querySelector(".timeline-subtitle");s&&(e.companyLocalized&&e.companyLocalized[n]?s.textContent=e.companyLocalized[n]:s.textContent=e.company||"");const m=i.querySelector(".timeline-description");m&&(m.textContent=d.t("cv.workDescription"))}}}),document.querySelectorAll('[data-type="education"]').forEach(i=>{const a=i.getAttribute("data-cv-id");if(a&&this.cvData&&this.cvData.education){const e=this.cvData.education.find(n=>n.id===a);if(e){const n=d.getCurrentLanguage(),c=i.querySelector(".timeline-period");c&&e.period&&(c.textContent=h.formatPeriod(e.period,n));const l=i.querySelector(".timeline-title");l&&(e.directionLocalized&&e.directionLocalized[n]?l.textContent=e.directionLocalized[n]:l.textContent=e.direction||"");const s=i.querySelector(".timeline-subtitle");if(s){let u="";e.institutionShortLocalized&&e.institutionShortLocalized[n]?u=e.institutionShortLocalized[n]:e.institutionLocalized&&e.institutionLocalized[n]?u=e.institutionLocalized[n]:u=e.institutionShort||e.institution||"";const r=e.degreeLocalized&&e.degreeLocalized[n]?`, ${e.degreeLocalized[n]}`:e.degree?`, ${e.degree}`:"";if(s.textContent=`${u}${r}`,e.location){const g=e.locationLocalized&&e.locationLocalized[n]?e.locationLocalized[n]:e.location;s.textContent+=` (${g})`}}const m=i.querySelector(".timeline-description");if(m&&e.status){const u=e.status==="in-progress"?"inProgress":"completed";m.textContent=d.t(`cv.status.${u}`)}}}}),this.cvData&&this.cvData.courses&&document.querySelectorAll(".cv-course-item").forEach(i=>{const a=i.getAttribute("data-course-id");if(a){const e=this.cvData.courses.find(n=>n.id===a);if(e){const n=d.getCurrentLanguage(),c=i.querySelector(".cv-course-title");c&&(e.titleLocalized&&e.titleLocalized[n]?c.textContent=e.titleLocalized[n]:c.textContent=e.title||"")}}}),this.cvData&&this.cvData.languages&&document.querySelectorAll(".cv-language-item").forEach(i=>{const a=i.getAttribute("data-language");if(a){const e=this.cvData.languages.find(n=>n.language===a);if(e){const n=d.getCurrentLanguage(),c=i.querySelector(".cv-language-name");c&&(e.languageLocalized&&e.languageLocalized[n]?c.textContent=e.languageLocalized[n]:c.textContent=e.language||"");const l=i.querySelector(".cv-language-level");l&&e.level&&(e.levelLocalized&&e.levelLocalized[n]?l.textContent=e.levelLocalized[n]:l.textContent=e.level)}}})}destroy(){this.languageChangeHandler&&window.removeEventListener("languageChanged",this.languageChangeHandler)}}export{T as CVPage};
